<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <title>Canis - Guia de Estilo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bloquear indexação -->
    <meta name="robots" content="noindex, nofollow" />
    <meta name="googlebot" content="noindex, nofollow" />

    <meta
      name="description"
      content="Guia de estilo do projeto Canis: paletas, tipografia e componentes base."
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Poppins:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./styles/tokens.css" />
    <link rel="stylesheet" href="./styles/base.css" />
    <link rel="stylesheet" href="./styles/ui.css" />

    <link rel="icon" type="image/svg+xml" href="./public/favicon.svg" />
  </head>
  <body>
    <a class="skip-link" href="#conteudo">Pular para o conteúdo</a>

    <header
      class="container"
      style="display: flex; gap: 0.75rem; align-items: center; padding: var(--space-2) 0"
    >
      <a class="logo" href="./" aria-label="Canis — Página Inicial">Canis</a>

      <div style="margin-left: auto; display: flex; gap: 0.5rem; align-items: center">
        <span class="no-wrap" aria-hidden="true">Paleta:</span>
        <button
          type="button"
          id="theme-toggle"
          class="btn touch-target"
          aria-pressed="false"
          aria-label="Alternar paleta"
        >
          Alternar paleta
        </button>
      </div>
    </header>
    <main id="conteudo" class="container" tabindex="-1" style="padding-bottom: var(--space-4)">
      <!-- CORES -->
      <section class="card" aria-labelledby="cores">
        <h2 id="cores">Cores (tokens de UI)</h2>
        <p style="color: var(--color-muted)">
          Visualize os principais tokens. Verifique contraste AA de texto/ícones.
        </p>

        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: var(--space-2);
            margin-top: var(--space-2);
          "
        >
          <!-- Swatch helper -->
          <div class="rounded bordered" style="padding: var(--space-2)">
            <div
              style="
                height: 52px;
                border-radius: var(--radius-2);
                background: var(--color-bg);
                border: var(--border-1);
              "
            ></div>
            <strong style="display: block; margin-top: 0.5rem">--color-bg</strong>
            <small style="color: var(--color-muted)">Fundo</small>
          </div>
          <div class="rounded bordered" style="padding: var(--space-2)">
            <div
              style="
                height: 52px;
                border-radius: var(--radius-2);
                background: var(--color-surface);
                border: var(--border-1);
              "
            ></div>
            <strong style="display: block; margin-top: 0.5rem">--color-surface</strong>
            <small style="color: var(--color-muted)">Superfícies</small>
          </div>
          <div class="rounded bordered" style="padding: var(--space-2)">
            <div
              style="height: 52px; border-radius: var(--radius-2); background: var(--color-primary)"
            ></div>
            <strong style="display: block; margin-top: 0.5rem">--color-primary</strong>
            <small style="color: var(--color-muted)">Ações/links</small>
          </div>
          <div class="rounded bordered" style="padding: var(--space-2)">
            <div
              style="height: 52px; border-radius: var(--radius-2); background: var(--color-accent)"
            ></div>
            <strong style="display: block; margin-top: 0.5rem">--color-accent</strong>
            <small style="color: var(--color-muted)">CTA “Comparar”</small>
          </div>
          <div class="rounded bordered" style="padding: var(--space-2)">
            <div
              style="height: 52px; border-radius: var(--radius-2); background: var(--color-text)"
            ></div>
            <strong style="display: block; margin-top: 0.5rem">--color-text</strong>
            <small style="color: var(--color-muted)">Texto principal</small>
          </div>
          <div class="rounded bordered" style="padding: var(--space-2)">
            <div
              style="height: 52px; border-radius: var(--radius-2); background: var(--color-muted)"
            ></div>
            <strong style="display: block; margin-top: 0.5rem">--color-muted</strong>
            <small style="color: var(--color-muted)">Texto secundário</small>
          </div>
        </div>
      </section>

      <!-- Tipografia -->
      <section class="card" aria-labelledby="type">
        <h2 id="type">Tipografia</h2>
        <p><strong>Títulos</strong> — Poppins 700 (token <code>--font-title</code>)</p>
        <h1>Canis — Comparador de raças</h1>
        <p><strong>Corpo</strong> — Inter 400/600 (token <code>--font-body</code>)</p>
        <p>
          Texto corrido para leitura longa. Este é um
          <a class="link-primary" href="#">link primário</a>
          dentro do texto.
        </p>
      </section>

      <!-- Componentes: botões, inputs, tabela -->
      <section class="card" aria-labelledby="componentes">
        <h2 id="componentes">Componentes</h2>

        <div class="flow">
          <!-- Botões -->
          <div>
            <h3>Botões</h3>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap">
              <button class="btn btn--primary touch-target">Buscar raça</button>
              <button class="btn btn--compare touch-target">Comparar</button>
              <button class="btn touch-target" disabled>Desabilitado</button>
            </div>
          </div>

          <!-- Campo de busca -->
          <div>
            <h3>Campo de busca</h3>
            <form
              role="search"
              aria-label="Busca por raça"
              onsubmit="return false;"
              style="display: flex; gap: 0.5rem; margin-top: 0.5rem; max-width: 520px"
            >
              <label class="visually-hidden" for="q">Buscar raça</label>
              <input
                id="q"
                name="q"
                class="input"
                type="search"
                placeholder="Ex.: Labrador"
                aria-describedby="hint-q"
                enterkeyhint="search"
                autocomplete="off"
              />
              <button
                type="submit"
                class="btn btn--primary touch-target"
                aria-label="Executar busca"
              >
                Buscar
              </button>
            </form>
            <small id="hint-q" style="color: var(--color-muted)"
              >Dica: você pode digitar parte do nome.</small
            >
          </div>

          <div>
            <h3>Input – estados</h3>
            <div style="display: grid; gap: 0.5rem; max-width: 520px">
              <label for="ex-ok" class="visually-hidden">Exemplo ok</label>
              <input
                id="ex-ok"
                class="input is-success"
                placeholder="Raça válida (exemplo)"
                aria-invalid="false"
              />

              <label for="ex-erro" class="visually-hidden">Exemplo erro</label>
              <input
                id="ex-erro"
                class="input is-error"
                placeholder="Raça inválida (exemplo)"
                aria-invalid="true"
                aria-describedby="msg-erro"
              />
              <small id="msg-erro" style="color: var(--color-danger)"
                >Por favor, digite pelo menos 3 letras.</small
              >
            </div>
          </div>

          <!-- Tabela exemplo -->
          <div>
            <h3>Tabela</h3>
            <div class="table-scroll">
              <table>
                <caption>
                  Tabela de exemplo (zebra e bordas via tokens)
                </caption>
                <thead>
                  <tr>
                    <th scope="col">Raça</th>
                    <th scope="col">Tamanho</th>
                    <th scope="col">Expectativa de vida</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Labrador Retriever</td>
                    <td>Médio/Grande</td>
                    <td>11–13 anos</td>
                  </tr>
                  <tr>
                    <td>Golden Retriever</td>
                    <td>Médio/Grande</td>
                    <td>10–12 anos</td>
                  </tr>
                  <tr>
                    <td>Beagle</td>
                    <td>Médio</td>
                    <td>12–15 anos</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Ícone inline exemplo -->
      <section class="card" aria-labelledby="icones">
        <h2 id="icones">Ícones (amostra)</h2>
        <p>Ícone inline com <code>currentColor</code> (herda a cor do texto):</p>
        <p style="display: flex; align-items: center; gap: 0.5rem">
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            aria-hidden="true"
            focusable="false"
            class="icon"
          >
            <path
              d="M5 12l4 4L19 6"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>

          Texto ao lado do ícone.
        </p>
      </section>

      <!-- Ícone sprite exemplo -->
      <section class="card" aria-labelledby="icones-sprite">
        <h2 id="icones-sprite">Ícones (via sprite SVG)</h2>
        <p>
          Herdando <code>currentColor</code> e usando os tamanhos <code>.icon--sm</code>,
          <code>.icon--md</code>…
        </p>

        <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap">
          <div class="with-icon">
            <svg class="icon icon--sm" aria-hidden="true" focusable="false">
              <use href="assets/icons/sprite.svg#i-energy"></use>
            </svg>
            <span>Energia (16px)</span>
          </div>

          <div class="with-icon">
            <svg class="icon icon--md icon--positive" aria-hidden="true" focusable="false">
              <use href="assets/icons/sprite.svg#i-grooming"></use>
            </svg>
            <span>Grooming (20px, positivo)</span>
          </div>

          <div class="with-icon" style="color: var(--color-muted)">
            <svg class="icon icon--lg" aria-hidden="true" focusable="false">
              <use href="assets/icons/sprite.svg#i-barking"></use>
            </svg>
            <span>Vocalização (24px, muted)</span>
          </div>
        </div>

        <pre><code>&lt;svg class="icon icon--md" aria-hidden="true"&gt;
  &lt;use href="assets/icons/sprite.svg#i-energy"&gt;&lt;/use&gt;
&lt;/svg&gt;</code></pre>
      </section>

      <!--Catálogo de ícones por tamanho-->
      <section class="card" aria-labelledby="icon-catalog">
        <h2 id="icon-catalog">Catálogo de ícones (sprite + tamanhos)</h2>
        <p>
          Todos herdam <code>currentColor</code>. Use <code>icon--sm</code>, <code>icon--md</code>,
          <code>icon--lg</code> para tamanho; e <code>icon--muted/--positive/--danger</code> para
          variações de cor contextual.
        </p>

        <ul
          class="icon-grid list-unstyled"
          role="list"
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: var(--space-2);
          "
        >
          <!-- Helper de item -->
          <li
            class="rounded bordered"
            style="padding: var(--space-2); background: var(--color-surface)"
          >
            <strong style="display: block; margin-bottom: 0.5rem">#i-energy</strong>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--sm" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-energy"></use>
              </svg>
              <span>sm (16px)</span>
            </div>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--md icon--positive" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-energy"></use>
              </svg>
              <span>md (20px, positive)</span>
            </div>
            <div class="with-icon">
              <svg class="icon icon--lg" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-energy"></use>
              </svg>
              <span>lg (24px)</span>
            </div>
          </li>

          <li
            class="rounded bordered"
            style="padding: var(--space-2); background: var(--color-surface)"
          >
            <strong style="display: block; margin-bottom: 0.5rem">#i-trainability</strong>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--sm" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-trainability"></use>
              </svg>
              <span>sm</span>
            </div>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--md" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-trainability"></use>
              </svg>
              <span>md</span>
            </div>
            <div class="with-icon">
              <svg class="icon icon--lg icon--muted" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-trainability"></use>
              </svg>
              <span>lg (muted)</span>
            </div>
          </li>

          <li
            class="rounded bordered"
            style="padding: var(--space-2); background: var(--color-surface)"
          >
            <strong style="display: block; margin-bottom: 0.5rem">#i-grooming</strong>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--sm" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-grooming"></use>
              </svg>
              <span>sm</span>
            </div>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--md icon--danger" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-grooming"></use>
              </svg>
              <span>md (danger)</span>
            </div>
            <div class="with-icon">
              <svg class="icon icon--lg" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-grooming"></use>
              </svg>
              <span>lg</span>
            </div>
          </li>

          <li
            class="rounded bordered"
            style="padding: var(--space-2); background: var(--color-surface)"
          >
            <strong style="display: block; margin-bottom: 0.5rem">#i-barking</strong>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--sm" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-barking"></use>
              </svg>
              <span>sm</span>
            </div>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--md" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-barking"></use>
              </svg>
              <span>md</span>
            </div>
            <div class="with-icon">
              <svg class="icon icon--lg" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-barking"></use>
              </svg>
              <span>lg</span>
            </div>
          </li>

          <li
            class="rounded bordered"
            style="padding: var(--space-2); background: var(--color-surface)"
          >
            <strong style="display: block; margin-bottom: 0.5rem">#i-sociability</strong>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--sm" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-sociability"></use>
              </svg>
              <span>sm</span>
            </div>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--md" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-sociability"></use>
              </svg>
              <span>md</span>
            </div>
            <div class="with-icon">
              <svg class="icon icon--lg" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-sociability"></use>
              </svg>
              <span>lg</span>
            </div>
          </li>

          <li
            class="rounded bordered"
            style="padding: var(--space-2); background: var(--color-surface)"
          >
            <strong style="display: block; margin-bottom: 0.5rem">#i-apt</strong>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--sm" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-apt"></use>
              </svg>
              <span>sm</span>
            </div>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--md" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-apt"></use>
              </svg>
              <span>md</span>
            </div>
            <div class="with-icon">
              <svg class="icon icon--lg" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-apt"></use>
              </svg>
              <span>lg</span>
            </div>
          </li>

          <li
            class="rounded bordered"
            style="padding: var(--space-2); background: var(--color-surface)"
          >
            <strong style="display: block; margin-bottom: 0.5rem">#i-exercise</strong>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--sm" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-exercise"></use>
              </svg>
              <span>sm</span>
            </div>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--md icon--positive" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-exercise"></use>
              </svg>
              <span>md (positive)</span>
            </div>
            <div class="with-icon">
              <svg class="icon icon--lg" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-exercise"></use>
              </svg>
              <span>lg</span>
            </div>
          </li>

          <li
            class="rounded bordered"
            style="padding: var(--space-2); background: var(--color-surface)"
          >
            <strong style="display: block; margin-bottom: 0.5rem">#i-health</strong>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--sm" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-health"></use>
              </svg>
              <span>sm</span>
            </div>
            <div class="with-icon" style="margin-bottom: 0.35rem">
              <svg class="icon icon--md" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-health"></use>
              </svg>
              <span>md</span>
            </div>
            <div class="with-icon">
              <svg class="icon icon--lg icon--danger" aria-hidden="true" focusable="false">
                <use href="assets/icons/sprite.svg#i-health"></use>
              </svg>
              <span>lg (danger)</span>
            </div>
          </li>
        </ul>
      </section>
    </main>
    <footer class="container" style="padding: var(--space-2) 0; color: var(--color-muted)">
      <small>Guia de Estilo — Canis. </small>
    </footer>

    <script>
      (function () {
        const html = document.documentElement;
        const btn = document.getElementById("theme-toggle");
        const KEY = "canis-theme";

        const getPref = () => {
          try {
            return localStorage.getItem(KEY);
          } catch {
            return null;
          }
        };
        const setPref = (val) => {
          try {
            localStorage.setItem(KEY, val);
          } catch {}
        };

        // Restaura preferência salva
        const saved = getPref();
        if (saved === "alt") {
          html.setAttribute("data-theme", "alt");
          btn.setAttribute("aria-pressed", "true");
        } else if (saved === "default") {
          html.removeAttribute("data-theme");
          btn.setAttribute("aria-pressed", "false");
        }

        // Força via querystring
        const forced = new URLSearchParams(location.search).get("theme");
        if (forced === "alt") {
          html.setAttribute("data-theme", "alt");
          btn.setAttribute("aria-pressed", "true");
        }
        if (forced === "default") {
          html.removeAttribute("data-theme");
          btn.setAttribute("aria-pressed", "false");
        }

        // Clique para alternar
        if (btn)
          btn.addEventListener("click", () => {
            const isAlt = html.hasAttribute("data-theme");
            if (isAlt) {
              html.removeAttribute("data-theme");
              btn.setAttribute("aria-pressed", "false");
              setPref("default");
            } else {
              html.setAttribute("data-theme", "alt");
              btn.setAttribute("aria-pressed", "true");
              setPref("alt");
            }
          });
      })();
    </script>
  </body>
</html>
